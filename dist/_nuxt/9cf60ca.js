(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{397:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return f}));var o="/profile",r="/user-verify-otp",c="/krishibazar/site-info/new-arrival-products",h="/krishibazar/site-info/category-wise-products/",l="/krishibazar/site-info/sub-categories/",f="/krishibazar/site-info/parent-categories/"},445:function(t,e,n){var content=n(475);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(69).default)("531651e6",content,!0,{sourceMap:!1})},474:function(t,e,n){"use strict";n(445)},475:function(t,e,n){(e=n(68)(!1)).push([t.i,".resend-otp-btn{text-decoration:underline}",""]),t.exports=e},541:function(t,e,n){"use strict";n.r(e);n(38);var o=n(397),r={name:"verifyOTP",data:function(){return{countDown:60,firstDigit:"",secondDigit:"",thirdDigit:"",fourthDigit:"",fifthDigit:"",sixDigit:"",verifyOTP:this.fifthDigit+this.secondDigit+this.thirdDigit+this.fourthDigit+this.fifthDigit,api_base_url:this.$config.API_BASE_URL,authFailed:!1,authError:""}},methods:{countDownTimer:function(){var t=this;this.countDown>0&&setTimeout((function(){t.countDown-=1,t.countDownTimer()}),1e3)},getUserProfile:function(){var t=this,e={headers:{Authorization:this.$auth.strategy.token.get()}};this.$axios.$get(this.api_base_url+o.c,e).then((function(e){!0===e.error?(t.authFailed=!0,t.authError=e.msg):(t.$store.commit("userinfo/updateLoggedInStatus",!0),t.$store.commit("userinfo/updateUserInfo",e.data),t.$router.push("/"))})).catch((function(t){console.log(t)}))},validateAccount:function(){var t=this;if(5===this.verifyOTP.length){var e={phone:this.authMobileNo,otp_code:this.verifyOTP};this.$axios.$post(this.api_base_url+verify_otp,e,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){!0===e.error?(t.authFailed=!0,t.authError=e.msg):(t.$cookies.set("customerAccessToken",e.data.access_token,{path:"/",maxAge:3600}),t.getUserProfile())})).catch((function(t){console.log(t)}))}},resendOTP:function(){var t=this,e={phone:this.authMobileNo};this.$axios.$post(this.api_base_url+o.f,e,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){!0===e.error?(t.authFailed=!0,t.authError=e.msg):(Vue.$toast.success("OTP Resend to your phone no"),t.countDown=60)})).catch((function(t){console.log(t)}))}},computed:{authMobileNo:function(){return this.$store.state.userinfo.auth.mobileNo}},mounted:function(){""==this.authMobileNo&&this.$router.push("/auth/verify-mobile-no")},created:function(){this.countDownTimer()}},c=(n(474),n(18)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login-registration-area verify-otp-page section-t-space"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-12 col-sm-12 col-md-8 col-lg-6"},[n("b-alert",{attrs:{dismissible:"",variant:"danger",show:t.authFailed}},[n("strong",[t._v("Warning!")]),t._v(" "+t._s(t.authError)+"\n        ")]),t._v(" "),n("form",{staticClass:"p-4 text-center",on:{submit:function(e){return e.preventDefault(),t.validateAccount(e)}}},[n("h4",{staticClass:"text-center mb-2"},[t._v("Please enter the OTP to verify your account")]),t._v(" "),n("p",{staticClass:"text-center mb-3"},[t._v("A One-Time Password has been sent to "+t._s(t.authMobileNo))]),t._v(" "),n("div",{staticClass:"form-group mb-4"},[n("input",{attrs:{type:"number",maxlength:"1",min:"0"},on:{keyup:function(t){return t.target.nextElementSibling.focus()}}}),t._v(" "),n("input",{attrs:{type:"number",maxlength:"1",min:"0"},on:{keyup:function(t){return t.target.nextElementSibling.focus()}}}),t._v(" "),n("input",{attrs:{type:"number",maxlength:"1",min:"0"},on:{keyup:function(t){return t.target.nextElementSibling.focus()}}}),t._v(" "),n("input",{attrs:{type:"number",maxlength:"1",min:"0"},on:{keyup:function(t){return t.target.nextElementSibling.focus()}}}),t._v(" "),n("input",{attrs:{type:"number",maxlength:"1",min:"0"}})]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"form-group text-center"},[n("span",{staticClass:"text-dark font-weight-600"},[t._v(t._s(t.countDown)+"s - ")]),t._v(" "),n("button",{staticClass:"font-bold justify-content-center resend-otp-btn",attrs:{type:"button"},on:{click:t.resendOTP}},[t._v("Resend OTP")])])])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn-success p-2 rounded w-sm-100 w-50 justify-content-center font-bold",attrs:{type:"submit"}},[this._v("Verify")])])}],!1,null,null,null);e.default=component.exports}}]);